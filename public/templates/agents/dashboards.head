<div flex="auto" layout="column" ng-cloak ng-controller="agentsController">
    <div ng-if="tab !== 'fim' && tab !== 'sca' && tab !== 'welcome' && tab !== 'configuration'">
        <!-- Navigation section -->
        <div layout="row" layout-align="start center" ng-if="agent" style="padding: 10px 0px 2px 4px">
            <!-- If you're not on the Welcome tab, show a functional breadcrumb -->
            <div ng-show="tab !== 'welcome' && tab !== 'configuration'" style="padding-left: 5px">
                <react-component flex name="WzCurrentAgentsSectionWrapper" props="currentAgentsSectionProps" />
            </div>
            <!-- End breadcrumbs -->

            <!-- Separator -->
            <span ng-show="tab !== 'welcome'" flex></span>
            <!-- End separator -->

            <!-- Reporting button section -->
            <div ng-show="tab !== 'welcome' && tab !== 'configuration' && tabView === 'panels'">
                <!-- Report button -->
                <button class="kuiButton kuiButton--secondary wz-margin-right-8 small" tooltip="Generate report"
                    tooltip-placement="bottom"
                    ng-class="{'euiButtonEmpty--disabled': (!rendered || loading || resultState !== 'ready' || showScaScan) && tab !== 'syscollector'}"
                    ng-disabled="(!rendered || loading || resultState !== 'ready' || showScaScan) && tab !== 'syscollector'"
                    ng-click="startVis2Png()" aria-label="Generate report button">
                    <i class="fa fa-fw fa-print" aria-hidden="true"></i>
                </button>
            </div>
            <!-- End Reporting buttons section -->

            <!-- Discover/Dashboard buttons section -->
            <div ng-show="tab !== 'welcome' && tab !== 'configuration' && tab !== 'syscollector'">
                <!-- Dashboard button -->
                <button ng-if="tabView === 'discover'" class="kuiButton kuiButton--secondary small wz-margin-right-8"
                    ng-click="switchSubtab('panels')" aria-label="Dashboard button">
                    <i class="fa fa-fw fa-th" aria-hidden="true"></i> Dashboard
                </button>

                <!-- Discover button -->
                <button ng-if="tabView === 'panels' && !showScaScan"
                    class="kuiButton kuiButton--secondary small wz-margin-right-8" ng-click="switchSubtab('discover')"
                    aria-label="Discover button">
                    <i class="fa fa-fw fa-compass" aria-hidden="true"></i> Discover
                </button>
            </div>
            <!-- End Discover/Dashboard buttons section -->

        </div>
        <!-- End navigation section -->

        <!-- Discover search bar section -->
        <kbn-dis
            ng-show="((tab !== 'welcome') && (tab !== 'configuration') && tab !== 'sca' && tab !== 'syscollector' && !showScaScan) || (tab === 'sca' && tabView === 'discover')">
        </kbn-dis>
        <!-- End Discover search bar section -->

        <!-- Loading status section -->
        <div ng-if="tab !== 'welcome' && tab !== 'sca' && tab !== 'configuration' && tab !== 'syscollector' && tabView === 'panels' && !rendered && resultState !== 'none'"
            class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--justifyContentSpaceAround euiFlexGroup--directionRow euiFlexGroup--responsive">
            <div class="euiFlexItem euiFlexItem--flexGrowZero euiTextAlign euiTextAlign--center">
                <span class="euiLoadingChart euiLoadingChart--large">
                    <span class="euiLoadingChart__bar"></span>
                    <span class="euiLoadingChart__bar"></span>
                    <span class="euiLoadingChart__bar"></span>
                    <span class="euiLoadingChart__bar"></span>
                </span>
                <div class="euiSpacer euiSpacer--m"></div>
                <div class="percentage">{{loadingStatus}}</div>
            </div>
        </div>

        <!-- End loading status section -->

        <!-- Report status section -->
        <div ng-if="reportBusy && reportStatus"
            class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--justifyContentSpaceAround euiFlexGroup--directionRow euiFlexGroup--responsive">
            <div class="euiFlexItem euiFlexItem--flexGrowZero euiTextAlign euiTextAlign--center">
                <span class="euiLoadingChart euiLoadingChart--large">
                    <span class="euiLoadingChart__bar"></span>
                    <span class="euiLoadingChart__bar"></span>
                    <span class="euiLoadingChart__bar"></span>
                    <span class="euiLoadingChart__bar"></span>
                </span>
                <div class="euiSpacer euiSpacer--m"></div>
                <div class="percentage">{{reportStatus}}</div>
                <div class="euiSpacer euiSpacer--l"></div>
            </div>
        </div>
        <!-- End report status section -->

        <!-- No results section -->

        <div layout="row" class="wz-margin-right-8 wz-margin-left-8" style="margin-top: 16px;"
            ng-if="!showScaScan && tab !== 'welcome' && tab !== 'configuration' && tab !== 'syscollector' && tab !== 'sca'"
            ng-show="resultState === 'none' && tabView === 'panels'">
            <react-component flex name="EuiCallOut"
                props="{color:'warning',iconType:'help', title:'There are no results for selected time range. Try another one.'}" />
        </div>
        <!-- No results section -->
    </div>
    <div class="md-padding md-padding-top-16"
        ng-show="load && tab !== 'configuration' && tab !== 'sca' && tabView === 'panels'">
        <react-component name="EuiProgress" props="{size: 'xs', color: 'primary'}" />
    </div>